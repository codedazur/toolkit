[15:02:27.219] [INFO] Storybook Upgrade - v9.0.18
[15:02:27.229] [INFO] detect-projects-spinner-start: Detecting projects...
[15:02:27.231] [INFO] detect-projects-spinner: Detecting projects: 1 projects
[15:02:27.231] [DEBUG] Getting Storybook data...
[15:02:27.231] [DEBUG] Getting Storybook info...
[15:02:27.231] [DEBUG] Loading main config...
[15:02:27.506] [DEBUG] Getting stories paths...
[15:02:27.529] [DEBUG] Getting package manager...
[15:02:27.613] [DEBUG] Getting Storybook version...
[15:02:27.614] [DEBUG] apps/storybook - Validating before version... 8.6.14
[15:02:27.614] [DEBUG] apps/storybook - Validating upgrade compatibility...
[15:02:27.614] [DEBUG] apps/storybook - Fetching NPM version information...
[15:02:27.614] [DEBUG] Getting CLI versions from NPM for storybook...
[15:02:27.615] [DEBUG] Getting CLI versions from NPM for storybook@next...
[15:02:28.402] [DEBUG] apps/storybook - Evaluating blockers...
[15:02:28.403] [DEBUG] Getting installed version for @storybook/experimental-addon-test...
[15:02:29.373] [DEBUG] An issue occurred while trying to find dependencies metadata using npm.
[15:02:29.373] [INFO] detect-projects-spinner-stop: 1 project detected
[15:02:29.374] [DEBUG] Found 1 valid projects and 0 error projects
[15:02:29.374] [INFO] Upgrading from 8.6.14 to 9.0.18
[15:02:29.381] [INFO] upgrade-dependencies-task-start: Fetching versions to update package.json files..
[15:02:29.381] [DEBUG] Updating dependencies in apps/storybook...
[15:02:29.388] [INFO] upgrade-dependencies-task: /package.json
/apps/storybook/package.json
[15:02:29.388] [DEBUG] {
  "upgradedDependencies": []
}
[15:02:29.388] [DEBUG] {
  "upgradedDevDependencies": []
}
[15:02:29.388] [DEBUG] {
  "upgradedPeerDependencies": []
}
[15:02:29.389] [DEBUG] {
  "upgradedDependencies": []
}
[15:02:29.389] [DEBUG] {
  "upgradedDevDependencies": [
    "@storybook/addon-a11y@^9.0.18",
    "@storybook/addon-links@^9.0.18",
    "@storybook/react@^9.0.18",
    "@storybook/react-vite@^9.0.18",
    "@storybook/react-webpack5@^9.0.18"
  ]
}
[15:02:29.389] [DEBUG] {
  "upgradedPeerDependencies": []
}
[15:02:29.389] [DEBUG] Getting CLI versions from NPM for @storybook/addon-a11y...
[15:02:30.143] [DEBUG] Getting CLI versions from NPM for @storybook/addon-links...
[15:02:30.785] [DEBUG] Getting CLI versions from NPM for @storybook/react...
[15:02:31.466] [DEBUG] Getting CLI versions from NPM for @storybook/react-vite...
[15:02:31.864] [DEBUG] Getting CLI versions from NPM for @storybook/react-webpack5...
[15:02:32.262] [INFO] upgrade-dependencies-task-success: Updated package versions in package.json files
[15:02:32.263] [INFO] detect-automigrations-task-start: Detecting automigrations...
[15:02:32.263] [DEBUG] Starting automigration collection across 1 projects and 15 fixes...
[15:02:32.270] [INFO] detect-automigrations-task: Checking automigrations for apps/storybook...
[15:02:32.270] [DEBUG] Processing project: apps/storybook
[15:02:32.270] [DEBUG] Checking fix eslintPlugin for project apps/storybook...
[15:02:32.272] [DEBUG] Checking fix addon-mdx-gfm-remove for project apps/storybook...
[15:02:32.273] [DEBUG] Checking fix addon-storysource-code-panel for project apps/storybook...
[15:02:32.273] [DEBUG] Checking fix upgrade-storybook-related-dependencies for project apps/storybook...
[15:02:32.273] [DEBUG] Checking for incompatible storybook packages...
[15:02:32.274] [DEBUG] Getting installed version for @storybook/jest...
[15:02:32.274] [DEBUG] Getting installed version for @storybook/addon-actions...
[15:02:32.275] [DEBUG] Getting installed version for @storybook/addon-essentials...
[15:02:32.275] [DEBUG] Getting installed version for @storybook/addon-interactions...
[15:02:32.275] [DEBUG] Getting installed version for @storybook/testing-library...
[15:02:33.540] [DEBUG] An issue occurred while trying to find dependencies metadata using npm.
[15:02:33.540] [DEBUG] Getting CLI versions from NPM for @storybook/addon-actions...
[15:02:33.547] [DEBUG] An issue occurred while trying to find dependencies metadata using npm.
[15:02:33.547] [DEBUG] Getting CLI versions from NPM for @storybook/addon-interactions...
[15:02:33.551] [DEBUG] An issue occurred while trying to find dependencies metadata using npm.
[15:02:33.551] [DEBUG] Getting CLI versions from NPM for @storybook/jest...
[15:02:33.552] [DEBUG] An issue occurred while trying to find dependencies metadata using npm.
[15:02:33.552] [DEBUG] Getting CLI versions from NPM for @storybook/testing-library...
[15:02:33.564] [DEBUG] An issue occurred while trying to find dependencies metadata using npm.
[15:02:33.564] [DEBUG] Getting CLI versions from NPM for @storybook/addon-essentials...
[15:02:33.911] [DEBUG] Checking fix initial-globals for project apps/storybook...
[15:02:33.918] [DEBUG] Checking fix addon-a11y-addon-test for project apps/storybook...
[15:02:33.918] [DEBUG] Checking fix consolidated-imports for project apps/storybook...
[15:02:33.919] [DEBUG] Checking fix addon-experimental-test for project apps/storybook...
[15:02:33.919] [DEBUG] Using cached installed version for @storybook/experimental-addon-test...
[15:02:33.919] [DEBUG] Checking fix rnstorybook-config for project apps/storybook...
[15:02:33.919] [DEBUG] Checking fix remove-addon-interactions for project apps/storybook...
[15:02:33.919] [DEBUG] Checking fix renderer-to-framework for project apps/storybook...
[15:02:33.919] [DEBUG] Checking fix remove-essential-addons for project apps/storybook...
[15:02:33.919] [DEBUG] Checking fix addon-a11y-parameters for project apps/storybook...
[15:02:33.919] [DEBUG] Checking fix remove-docs-autodocs for project apps/storybook...
[15:02:33.922] [DEBUG] Checking fix wrap-require for project apps/storybook...
[15:02:33.930] [INFO] detect-automigrations-task: 
Automigrations detected:
[15:02:33.936] [INFO] detect-automigrations-task: âœ” eslintPlugin
[15:02:33.943] [INFO] detect-automigrations-task: âœ” remove-addon-interactions
[15:02:33.949] [INFO] detect-automigrations-task: âœ” renderer-to-framework
[15:02:33.956] [INFO] detect-automigrations-task: âœ” remove-essential-addons
[15:02:33.962] [INFO] detect-automigrations-task: âœ” remove-docs-autodocs
[15:02:33.969] [INFO] detect-automigrations-task: âœ” wrap-require
[15:02:33.969] [INFO] detect-automigrations-task-success: 6 automigration(s) detected
[15:02:37.852] [PROMPT] Select automigrations to run {"choice":["eslintPlugin","remove-addon-interactions","renderer-to-framework","remove-essential-addons","remove-docs-autodocs","wrap-require"]}
[15:02:37.853] [INFO] automigrate-apps/storybook-task-start: Running automigrations for apps/storybook
[15:02:37.853] [DEBUG] Adding dependencies: eslint-plugin-storybook@9.0.18
[15:02:37.853] [DEBUG] Getting CLI versions from NPM for eslint-plugin-storybook...
[15:02:38.185] [INFO] automigrate-apps/storybook-task: âœ” eslintPlugin
[15:02:38.188] [DEBUG] Uninstalling @storybook/addon-interactions
[15:02:38.188] [DEBUG] Removing '@storybook/addon-interactions' from main.js addons field.
[15:02:38.197] [INFO] automigrate-apps/storybook-task: âœ” remove-addon-interactions
[15:02:38.197] [DEBUG] 
Migrating @storybook/react to @storybook/react-vite
[15:02:38.496] [DEBUG] Updating package.json files...
[15:02:38.497] [DEBUG] 
Migrating @storybook/react to @storybook/react-webpack5
[15:02:38.783] [DEBUG] Updating package.json files...
[15:02:38.790] [INFO] automigrate-apps/storybook-task: âœ” renderer-to-framework
[15:02:38.792] [DEBUG] Uninstalling @storybook/addon-essentials
[15:02:38.792] [DEBUG] Removing '@storybook/addon-essentials' from main.js addons field.
[15:02:38.794] [DEBUG] Uninstalling @storybook/addon-actions
[15:02:38.796] [DEBUG] Getting Storybook info...
[15:02:38.796] [DEBUG] Loading main config...
[15:02:38.799] [DEBUG] Getting stories paths...
[15:02:38.799] [DEBUG] Getting package manager...
[15:02:38.804] [DEBUG] Getting Storybook version...
[15:02:38.812] [INFO] automigrate-apps/storybook-task: Verifying @storybook/addon-docs
[15:02:38.819] [INFO] automigrate-apps/storybook-task: Installing @storybook/addon-docs@9.0.18
[15:02:38.819] [DEBUG] Getting CLI versions from NPM for @storybook/addon-docs...
[15:02:39.521] [INFO] automigrate-apps/storybook-task: Adding '@storybook/addon-docs' to the "addons" field in
apps/storybook/main.ts
[15:02:39.530] [INFO] automigrate-apps/storybook-task: âœ” remove-essential-addons
[15:02:39.537] [INFO] automigrate-apps/storybook-task: ðŸ”„ Updating docs parameter in main config file...
[15:02:39.547] [INFO] automigrate-apps/storybook-task: âœ” remove-docs-autodocs
[15:02:39.557] [INFO] automigrate-apps/storybook-task: âœ” wrap-require
[15:02:39.557] [INFO] automigrate-apps/storybook-task-success: Completed automigrations for apps/storybook
[15:02:39.557] [INFO] Installing dependencies...
[15:02:39.557] [INFO] install-dependencies-task-start: Installing dependencies...
[15:03:14.554] [INFO] added 141 packages, removed 66 packages, changed 104 packages, and audited 1460 packages in 35s
[15:03:14.568] [INFO] install-dependencies-task: added 141 packages, removed 66 packages, changed 104 packages, and
audited 1460 packages in 35s
[15:03:14.568] [INFO] 294 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
[15:03:14.577] [INFO] install-dependencies-task: 294 packages are looking for funding
run `npm fund` for details

found 0 vulnerabilities
[15:03:14.577] [INFO] Dependencies installed
[15:03:14.577] [INFO] install-dependencies-task-success: Dependencies installed
[15:03:14.578] [WARN] Since you are in a monorepo, we advise you to deduplicate your dependencies. We can do this for you but it might take some time.
[15:03:25.298] [PROMPT] Execute npm run dedupe? {"choice":true}
[15:03:25.299] [INFO] Deduplicating dependencies...
[15:03:25.299] [INFO] dedupe-dependencies-task-start: Deduplicating dependencies...
[15:03:37.058] [INFO] added 3 packages, removed 18 packages, changed 14 packages, and audited 1445 packages in 12s
[15:03:37.066] [INFO] dedupe-dependencies-task: added 3 packages, removed 18 packages, changed 14 packages, and
audited 1445 packages in 12s
[15:03:37.066] [INFO] 289 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
[15:03:37.073] [INFO] dedupe-dependencies-task: 289 packages are looking for funding
run `npm fund` for details

found 0 vulnerabilities
[15:03:37.073] [INFO] Dependencies deduplicated
[15:03:37.073] [INFO] dedupe-dependencies-task-success: Dependencies deduplicated
[15:03:37.073] [INFO] Checking the health of your project(s)..
[15:03:37.534] [WARN] apps/storybook: 1 issue found
[15:03:37.541] [INFO] The "storybook" package was not found in your package.json.
Installing "storybook" as a direct dev dependency in your package.json is required.
[15:03:37.541] [INFO] Missing Storybook Dependency
[15:03:37.547] [INFO] The "storybook" package was not found in your package.json.
Installing "storybook" as a direct dev dependency in your package.json is required.
[15:03:37.555] [INFO] Storybook doctor is complete!
[15:03:37.561] [INFO] You can always recheck the health of your project(s) by running:
npx storybook doctor
[15:03:37.568] [INFO] The upgrade is complete!
[15:03:37.574] [INFO] Your project(s) have been upgraded successfully, but some issues were found which need your attention, please check Storybook doctor logs above.
[15:03:37.622] [INFO] If you want to learn more about the automigrations that executed in your project(s), please check the following links:

â€¢ eslintPlugin
â€¢ remove-addon-interactions
â€¢ renderer-to-framework
â€¢ remove-essential-addons
â€¢ remove-docs-autodocs
â€¢ wrap-require
[15:03:37.628] [INFO] For a full list of changes, please check our migration guide: https://storybook.js.org/docs/migration-guide